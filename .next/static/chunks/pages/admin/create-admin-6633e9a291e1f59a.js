(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{7497:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/create-admin",function(){return o(2088)}])},2088:function(e,r,o){"use strict";o.r(r);var n=o(5893),i=o(7294),d=o(9008),t=o.n(d),a=o(1163);r.default=()=>{let[e,r]=(0,i.useState)({username:"",email:"",password:"",confirmPassword:""}),[o,d]=(0,i.useState)(!1),[s,l]=(0,i.useState)(""),[c,p]=(0,i.useState)(""),m=(0,a.useRouter)(),x=async o=>{if(o.preventDefault(),d(!0),l(""),p(""),e.password!==e.confirmPassword){l("Passwords do not match"),d(!1);return}if(e.password.length<6){l("Password must be at least 6 characters long"),d(!1);return}try{let o=await fetch("/api/auth/create-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,email:e.email,password:e.password})}),n=await o.json();o.ok?(p("Admin user created successfully! You can now login."),r({username:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{m.push("/admin/login")},2e3)):l(n.error||"Failed to create admin user")}catch(e){console.error("Create admin error:",e),l("Network error. Please check your database connection and try again. Make sure MongoDB is running.")}finally{d(!1)}},u=o=>{r({...e,[o.target.name]:o.target.value})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t(),{children:(0,n.jsx)("title",{children:"Create Admin - AMLDecoded"})}),(0,n.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #0c0c1d, #111132)",padding:"20px",fontFamily:'"DM Sans", sans-serif'},children:(0,n.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"50px",borderRadius:"12px",width:"100%",maxWidth:"500px"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,n.jsx)("h1",{style:{margin:"0 0 15px 0",color:"white",fontSize:"32px",fontWeight:"500"},children:"Create Admin User"}),(0,n.jsx)("p",{style:{margin:"0",color:"#b0b0b0",fontSize:"16px"},children:"Set up the first admin account for AMLDecoded"})]}),(0,n.jsxs)("form",{onSubmit:x,children:[(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{htmlFor:"username",style:{display:"block",marginBottom:"5px",color:"#333",fontWeight:"500"},children:"Username"}),(0,n.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:u,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box"},placeholder:"Enter username"})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{htmlFor:"email",style:{display:"block",marginBottom:"5px",color:"#333",fontWeight:"500"},children:"Email"}),(0,n.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box"},placeholder:"Enter email address"})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{htmlFor:"password",style:{display:"block",marginBottom:"5px",color:"#333",fontWeight:"500"},children:"Password"}),(0,n.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box"},placeholder:"Enter password (min 6 characters)"})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{htmlFor:"confirmPassword",style:{display:"block",marginBottom:"5px",color:"#333",fontWeight:"500"},children:"Confirm Password"}),(0,n.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:u,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box"},placeholder:"Confirm password"})]}),s&&(0,n.jsx)("div",{style:{color:"#dc3545",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:"10px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:s}),c&&(0,n.jsx)("div",{style:{color:"#155724",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",padding:"10px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:c}),(0,n.jsx)("button",{type:"submit",disabled:o,style:{width:"100%",padding:"12px",backgroundColor:o?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",cursor:o?"not-allowed":"pointer",transition:"background-color 0.2s"},children:o?"Creating Admin...":"Create Admin User"})]}),(0,n.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,n.jsx)("a",{href:"/admin/login",style:{color:"#007bff",textDecoration:"none",fontSize:"14px"},children:"Already have an admin account? Login here"})})]})})]})}},9008:function(e,r,o){e.exports=o(3867)},1163:function(e,r,o){e.exports=o(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7497)}),_N_E=e.O()}]);